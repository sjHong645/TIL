### 1.1 웹은 HTTP로 나타낸다.

웹 브라우저의 주소 입력란에 URL을 입력했을 때 어떻게 웹 페이지가 보일까? 

![image](https://user-images.githubusercontent.com/64796257/147430181-e6a1ad41-ba22-4dfc-aa2b-cce3c4ea5ff0.png)

클라이언트에서 브라우저 주소 입력란에 URL을 입력하여 어딘가에 송신 ⇒ 어딘가에서 응답이 돌아오면 웹 페이지가 표시

웹 브라우저는 웹 브라우저 주소 입력란에 지정된 URL에 의해 웹 서버로부터 리소스(resource)라고 불리는 파일 등의 정보를 얻는다. 

이때, 서버에 의뢰를 하는 웹 브라우저 등등을 클라이언트(client)라고 한다. 

![image](https://user-images.githubusercontent.com/64796257/147430315-590dcd44-b713-4e01-9293-c6e2bb6133bd.png)

주소로 지정한 서버의 리소스를 가지러 간다 ⇒ HTTP를 이용해서 통신한다. 

이렇게 클라이언트에서 서버까지 일련의 흐름을 결정하는 것이 HTTP(HyperText Transfer Protocol)이다. HTTP 프로토콜이라는 `약속`을 통해 서로 통신이 이뤄진다.

### 1.2 HTTP의 탄생

① 웹은 지식 공유를 위해 고안됨

![image](https://user-images.githubusercontent.com/64796257/147430458-7c777f0b-028e-4142-b5bc-172197a1f32a.png)

팀 버너스 리 라는 박사가 멀리 떨어져 있는 동료 연구자와 지식을 공유할 수 있도록 시스템을 고안했다. 

최초로 고안된 내용은 여러 문서를 상호간에 관련 짓는 하이퍼텍스트에 의해 상호간에 참조할 수 있는 WWW(World Wide Web)의 기본 개념이 되었다. 

WWW는 웹 브라우저와 같이 하이퍼텍스트를 열람할 수 있는 클라이언트 애플리케이션의 명칭이었다. 

현재에는 일련의 시스템의 명칭으로 사용되어 WWW 또는 웹(Web) 이라고 불린다.

② 웹의 성장

1990년에 CERN에서 세계 최초의 웹 서버와 웹 브라우저가 개발되었다. 

1993년 1월에 NCSA(미국 슈퍼 컴퓨터 응용 연구소)에서 현재 사용하는 웹 브라우저의 선조인 모자이크(Mosaic)를 개발했다. 

HTML의 이미지 표시를 인라인(inline)으로 처리하는 등 세련된 그래픽을 사용하는 방식이 널리 퍼졌다.

1994년 12월에 넷스케이프 사에서 넷스케이프 네비게이터(Netscape Navigator) 1.0 출시

1995년에 MicroSoft에서 인터넷 익스플로러(Internet Explorer) 1.0, 2.0을 출시한다. 이 무렵 아파치(Apache)도 Apache 0.2로 등장했다.

### 1.3 TCP/IP 기본적인 내용

HTTP를 이해하기 위해서는 TCP/IP 프로토콜에 대해서 어느 정도 알아야 한다. 

① 프로토콜의 집합 TCP/IP

컴퓨터와 네트워크 기기가 상호간에 통신하기 위해서는 서로 같은 방법으로 통신해야 한다. 

어떻게 상대를 찾고, 어떻게 상대에게 신호를 보내고, 어떤 언어로 얘기하고, 어떻게 이야기를 종료할지와 같은 규칙을 정할 필요가 있다.

이렇게 서로 다른 하드웨어와 운영체제등을 가지고 서로 통신을 하기 위해서는 모든 요소에 규칙이 필요한데 이러한 규칙을 `프로토콜(Protocol)`이라 한다. 

![image](https://user-images.githubusercontent.com/64796257/147431036-adc9a7a4-243c-4b1d-97f2-3a4bc139b697.png)

위 그림과 같이 인터넷과 관련된 프로토콜을 모은 것을 TCP/IP라고 한다. 

② 계층으로 관리하는 TCP/IP

TCP/IP에서 중요한 개념 중 하나는 `계층(layer)`이다. TCP/IP는 4개의 계층으로 나뉘어 있다. 

계층화를 했을 때 장점은 다음과 같다.

예를 들어 인터넷이 하나의 프로토콜로 되어 있다면 사양을 변경했을 때 전체를 바꿔야 하지만 계층화되어 있다면 사양이 변경된 해당 계층만 바꾸면 된다.

그리고, 설계를 편하게 할 수 있다. 

애플리케이션 층에서 애플리케이션은 자기가 담당하고 있는 부분만 고려하면 된다. 상대가 어디에 있는지, 어떤 경로로 메시지를 전달하는지를 고려하지 않아도 된다. 

각 계층의 역할을 다음과 같다.

- 애플리케이션 계층(Application Layer) : 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정

- 트랜스포트 계층(Transport Layer) : 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 결정

⇒ 여기에는 서로 다른 성질을 가진 TCP, UDP 프로토콜이 존재한다.

- 네트워크 계층(인터넷 계층)(Internet Layer) : 네트워크 상에서 패킷의 이동을 다룬다. (패킷 - 전송하는 데이터의 최소 단위)

⇒ 여기에서 어떤 경로를 거쳐 상대의 컴퓨터까지 패킷을 보낼지 결정한다. 

ex. 인터넷 ⇒ 상대 컴퓨터에 도달하는 동안 여러 대의 컴퓨터랑 네트워크 기기를 거쳐서 상대방에게 전달된다.  
              이러한 여러 선택지 중 하나의 경로를 결정하는 것이 네트워크 계층의 역할이다. 

- 링크 계층(네트워크 인터페이스 계층) (Network Interface Layer) : 네트워크에 접속하는 HW 적인 면을 다룬다.

⇒ OS가 하드웨어를 제어하기 때문에 디바이스 드라이버랑 네트워크 인터페이스 카드(NIC)를 포함한다.

⇒ 케이블과 같은 물리적으로 보이는 부분도 포함한다. 

③ TCP/IP 통신의 흐름

![image](https://user-images.githubusercontent.com/64796257/147432116-622727f5-0faa-49e0-b8b5-656a8769172a.png)

TCP/IP로 통신할 때 계층을 순서대로 거쳐 상대와 통신한다. 

송신하는 쪽에서는 애플리케이션 계층에서부터 내려가고 수신하는 측에서는 애플리케이션 계층으로 올라간다.

![image](https://user-images.githubusercontent.com/64796257/147432326-87edae15-97b2-4665-84bf-362be0d2a9f9.png)

HTTP를 예로 들어 설명하면 `송신하는 쪽`의 클라이언트의 `애플리케이션 계층`에서 어떤 웹 페이지를 보고싶다는 `HTTP 리퀘스트`를 보내려 한다.

그 다음에 있는 `트랜스포트 계층`에 있는 프로토콜인 `TCP`가 애플리케이션 계층에서 받은 데이터를 통신하기 쉽게 조각내어 안내 번호와 포트 번호를 붙여 `네트워크 계층`에 `전달`한다.

`네트워크 계층`에 있는 프로토콜인 `IP`는 수신지 MAC 주소를 추가해서 `링크 계층`에 `전달`한다. 이렇게 네트워크를 통해 송신할 준비를 마쳤다.

`수신측 서버`는 `링크 계층`에서 데이터를 받아들여 `순서대로 위 계층에 전달`해서 `애플리케이션 계층`까지 도달한다. 

애플리케이션 계층에 도달하게 되면 클라이언트가 보냈던 HTTP 리퀘스트 내용을 수신할 수 있게 된다.

### 1.4 IP/TCP/DNS 프로토콜

TCP/IP 중에서 HTTP와 밀접한 관계가 있는 프로토콜은 IP, TCP, DNS가 있다. 각각에 대해서 알아보자.

① IP(Internet Protocol) : 네트워크 계층에 있는 프로토콜

- 역할 : 각각의 패킷을 상대방에게 전달한다. 

이 역할을 수행하기 위해서는 여러 요소가 필요한데 그중에서 IP 주소와 MAC 주소가 가장 중요하다.

IP주소는 각 노드에 부여된 주소를 의미하고 MAC 주소는 각 네트워크 카드에 할당된 고유 주소를 의미한다. IP 주소는 MAC 주소와 결부되어 있고 IP 주소는 변경이 가능하지만 MAC 주소는 기본적으로 변경할 수 없다.

IP 통신은 MAC 주소에 따라 통신한다. 

인터넷에서는 여러 대의 컴퓨터와 네트워크 기기를 거쳐서 상대방에게 도착하는데 그렇게 여러 기기들을 거치면서 이동하는 과정에 다음으로 거쳐갈 곳의 MAC 주소를 사용해서 목적지를 찾아간다. 이때 사용하는 프로토콜이 ARP(Address Resolution Protocol)이다.

ARP를 통해서 수신지의 IP주소를 바탕으로 MAC 주소를 알아낼 수 있다. 

![image](https://user-images.githubusercontent.com/64796257/147433061-28b47bcc-f91a-46c6-9236-a1ed094d3567.png)

위 그림을 보면 알 수 있듯이 목적지까지 거쳐서 이동하는 과정에서 컴퓨터와 라우터 등의 네트워크 기기는 목적지에 도착할 때 까지 대략적인 목적지만을 알고 있다. 이러한 시스템을 `라우팅(routing)`이라 한다. 택배 배송 과정을 생각하면 되겠다.

② TCP(Transfer Control Protocol) : 트랜스포트 계층에 있는 프로토콜. 

- 역할 : 신뢰성 있는 바이트 스트림 서비스를 제공한다. 

바이트 스트림 서비스란 용량이 큰 데이터를 보내기 쉽게 TCP Segment라는 단위 패킷으로 작게 분해해서 관리하는 것을 말한다.

신뢰성 있는 서비스는 상대방에게 보내는 서비스를 의미한다.

즉, TCP는 대용량의 데이터를 보내기 쉽게 작게 분해하여 상대방에게 보내고 정확하게 도착했는지 확인하는 역할을 담당하고 있다.

* Three way handshaking

상대방에게 확실하게 데이터를 보내기 위해서 TCP는 `Three way handshaking` 이라는 방법을 사용하고 있다.

이 방법은 패킷을 보내고 나서 그 패킷이 잘 도착했는지 여부를 상대에게 확인하기 위한 방법이다. 이를 위해 SYN, ACK라는 TCP 플래그를 사용한다.

송신측에서는 SYN 플래그를 상대방에게 접속함과 동시에 패킷과 같이 보내고 

수신측에서는 SYN/ACK 플래그를 송신측에 접속함과 동시에 패킷을 수신했다는 사실을 전달한다. 

마지막으로 송신측이 ACK 플래그를 보내서 패킷 교환이 완료되었음을 전달한다.

이 과정에서 도중에 통신이 끊긴다면 TCP는 그와 동시에 같은 과정을 거쳐서 패킷을 재전송한다.

![image](https://user-images.githubusercontent.com/64796257/147433762-41029cf0-bc2a-4bb2-95c8-abcc37c31895.png)

### 1.5 DNS(Domain Name System)

⇒ HTTP와 같이 응용 계층 시스템에서 도메인 이름(Domain Name)과 IP 주소(IP address)의 이름을 확인해준다.

컴퓨터는 IP주소와 별도로 호스트 이름과 도메인 이름을 붙일 수 있다. ex. www.naver.com

사용자는 IP 주소 대신에 www.naver.com 과 같이 이름을 사용하는 것이 친숙하지만 컴퓨터는 숫자를 나열하는 방법으로 통신한다.

이를 위해서 DNS를 사용한다. DNS는 도메인 이름을 통해 IP 주소를 알아내거나 반대로 IP 주소를 가지고 도메인 이름을 알아내는 서비스를 제공한다.

![image](https://user-images.githubusercontent.com/64796257/147438562-1d6071de-2f8b-4699-916b-4653ef6d51d7.png)

[DNS에 관한 더 자세한 내용](./DNS_detailed.md)

### 1.6 IP/TCP/DNS와 HTTP와의 관계

![image](https://user-images.githubusercontent.com/64796257/147438728-84227bbe-2c86-4b38-a71c-9278cbc4a44e.png)

### 1.7 URI, URL 

① URI - 리소스 식별자 (Uniform Resource Identifiers)

- Uniform : 통일된 서식을 결정하는 것으로 여러 종류의 리소스 지정 방법을 같은 맥락에서 구별없이 취급할 수 있게 한다. 또한 새로운 스키마(http:, ftp 등등) 도입을 용이하게 한다.

- Resource : `식별 가능한 모든 것`이라 정의된다. document 파일 뿐만 아니라 이미지, 서비스 등 다른 것과 구별할 수 있는 모든 것을 리소스라 한다. 

- Identifier : 식별 가능한 것으로 참조하는 Object이며 식별자라고도 불린다. 

⇒ 이를 통해서 URI는 스키마를 나타내는 리소스를 식별하기 위한 식별자를 의미한다는 것을 알 수 있다.

HTTP는 http를 사용한다. 그 외에도 ftp, mailto, telnet, file 등이 있다. 

URI는 리소스를 식별하는 모든 문자열을 나타내지만 URL은 리소스의 장소를 의미한다. 

② URL 포맷

절대 URL 포맷 

![image](https://user-images.githubusercontent.com/64796257/147439193-2ed5b706-613c-4aea-a2ab-19a202107b52.png)

- `http:`, `https:`와 같은 스키마를 사용해서 리소스를 얻기 위해 사용하는 프로토콜을 지시한다.

- 자격정보(credential) : 서버로부터 리소스를 얻으려면 credential이 필요하다. 유저명과 패스워드를 선택적으로 지정할 수 있다.
- 서버 주소 : 주소는 `www.naver.com` 과 같은 도메인 이름이나 `192.168.1.1`과 같은 IPv4 주소 또는 IPv6 주소를 통해 지정한다.

- 서버 포트 : 서버의 접속 대상이 되는 네트워크 포트 번호를 지정한다. (옵션)

- 계층적 파일 패스 : 특정 리소스를 식별하기 위해서 서버 상의 파일 패스를 지정한다. UNIX 디렉토리 지정 방법과 비슷
- 쿼리 문자열 : 파일 패스로 지정된 리소스에 임의의 파라미터를 넘겨주기 위해 쿼리 문자열을 사용한다. (옵션)
- 프래그먼트 식별자 : 취득한 리소스에서 서브 리소스를 가리키기 위해서 주로 사용한다. (옵션)

















