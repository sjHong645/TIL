## 무결성(Integrity) 의 개념 및 종류 

: `DB에 저장된 데이터 값`과 그것이 표현하는 `현실 세계의 실제 값`이 `일치`하는 정확성

- 무결성 제약 조건은... DB에 들어있는 `데이터의 정확성`을 `보장`하기 위해 만든 조건이다.
- 부정확한 자료가 DB 내에 저장되는 것을 `방지`하기 위한 제약 조건이다.

`<학생>` 릴레이션 
| 학번 | 주민번호 | 성명 | 
| --- | --- | --- | 
| 1001 | 010429 - 3****** | 김상욱 | 
| 1002 | 000504 - 3****** | 임선호 | 
| 1003 | 011215 - 3****** | 김한순 | 
| 1004 | 001225 - 3****** | 이다해 | 

`<수강>` 릴레이션 
| 학번 | 과목명 |
| --- | --- |
| 1001 | 영어 |
| 1001 | 전산 |
| 1002 | 영어 |
| 1003 | 수학 |
| 1004 | 영어 |
| 1004 | 전산 |

- 무결성의 종류에는 개체 무결성, 도메인 무결성, 참조 무결성, 사용자 정의 무결성 등이 있다.

## 개체 무결성 (Entity Integrity, 실체 무결성) 

: 기본 테이블의 `기본키`를 구성하는 어떤 속성도 `Null 값`이나 `중복된 값`을 가질 수 없다는 규정 

ex) `<학생>` 릴레이션에서 `학번`을 기본키라 하자. 

이때, 튜플을 추가할 때 `주민번호`, `성명`은 `Null 값`이나 `중복된 값`이어도 되지만 `학번`은 반드시 값이 입력되야 하고 중복되면 안된다.

## 도메인 무결성 (Domain Integrity, 영역 무결성) 

: 주어진 속성 값이 `정의된 도메인`에 속한 값이어야 한다는 규정 

ex) `<수강>` 릴레이션의 `과목명` 속성에 영어, 수학, 전산만 입력되도록 했다고 하자. 그러면 반드시 3가지 값 중 하나만 입력해야 한다.

## 참조 무결성 (Referential Integrity) 

: `외래키 값`이 Null 이거나 참조 relation의 `기본키 값`과 동일해야 한다.  
  즉, 참조할 수 없는 `외래키 값`을 가질 수 없다는 규정.
  
ex) `<수강>` 릴레이션의 `학번` 속성에는 `<학생>` 릴레이션의 `학번` 속성에 없는 값은 입력할 수 없다.

ex) `<수강>` 릴레이션의 `학번` 속성과 `<학생>` 릴레이션의 `학번` 속성에는 `같은 종류의 데이터`가 입력되어야 한다.  
    만약에 `<학생>` 릴레이션의 기본키가 `학번 + 이름`이라면 `<수강>` 릴레이션의 외래키 역시 `학번 + 이름`이어야 한다.
    

## 사용자 정의 무결성 

: 속성 값들이 사용자가 정의한 제약 조건에 만족해야 한다는 규정 

## 데이터 무결성 강화 

- DB 구축과정에서 데이터의 무결성을 정의한다.
- 애플리케이션, DB 트리거, 제약 조건을 이용해서 데이터 무결성을 강화한다.

① 애플리케이션 

- 데이터를 생성, 수정, 삭제할 때 `무결성 조건`을 `검증하는 코드`를 `데이터를 조작하는 프로그램`내에 추가
- 이는 DB에서 수행하기 어려워서 `애플리케이션 내`에서 처리한다

장점 : 사용자 정의 같은 `복잡한 무결성 조건`의 구현이 가능

단점 : 관리가 힘들고 적정성 검토가 어렵다.

② 데이터베이스 트리거

- 트리거 이벤트에 `무결성 조건`을 실행하는 `절차형 SQL`을 추가

장점 : `통합 관리`가 가능하고 `복잡한 요구 조건` 의 구현이 가능 

단점 : 운영 중 변경이 어렵고 사용상 주의가 필요

③ 제약 조건 

- DB에 `제약 조건`을 설정해 `무결성`을 유지

장점 : 통합 관리 기능, 간단한 선언으로 구현 가능, 변경 용이, 오류 데이터 발생 방지 

단점 : 복잡한 제약 조건의 구현과 예외적인 처리 불가능



























