[문제](https://leetcode.com/problems/kth-largest-element-in-a-stream/description/)

## 정답 코드 

1) `nums 배열`의 값들을 `ArrayList`에 저장
2) `add` 메소드를 사용할 때 마다 `오름차순 정렬`후 k번째 큰 값 return 

``` java
class KthLargest {

    int k; 
    List<Integer> nums;

    public KthLargest(int k, int[] nums) {

        this.k = k; 
        this.nums = new ArrayList<>(nums.length); 

        for(int i = 0; i < nums.length; i++) {
            this.nums.add(nums[i]); 
        }
        
    }
    
    public int add(int val) {

        this.nums.add(val); 

        Collections.sort(this.nums); 

        // 3번째로 큰 값 = 오름차순 정렬에서 맨 뒤에서 3번째 값
        return this.nums.get(this.nums.size() - this.k); 

    }
}
```

## 더 나은 코드

문제에서 원하는 건 `k번째 큰 값`이다. 즉, 그 값보다 작은 값은 굳이 저장할 필요가 없다.

이를 `우선순위 큐`를 이용해서 구현했다. 

`우선순위 큐`는 default로 `작은 숫자`에 가장 높은 우선순위를 부여한다. 

ex) k = 3 => 3번째 큰 값, 2번째 큰 값, 1번째 큰 값만 저장해주면 된다. 

여기서 k번째 큰 값을 알고 싶다면 `q.peek()` 을 사용하면 된다. 

``` java
   class KthLargest {
        PriorityQueue<Integer> q;
        int k;

        public KthLargest(int k, int[] a) {
            this.k = k;
            q = new PriorityQueue<>(k);
            for (int n : a)
                add(n);
        }

        public int add(int n) {
        
            // 큐의 크기가 k보다 작다면 넣어야 한다.             
            // 내가 원하는 건 k번째 큰 값이기 때문
            if (q.size() < k)
                q.offer(n);
                
            // 큐의 가장 우선순위가 높은 값 = 전체 배열의 k번째 큰 값 
            // 보다 더 큰 값이 들어왔다면 
            
            // poll하고 n을 삽입한다. 
            else if (q.peek() < n) {
                q.poll();
                q.offer(n);
            }
            return q.peek();
        }
    }
```
