[문제](https://www.acmicpc.net/problem/9466)

[출처](https://bcp0109.tistory.com/32)

문제를 정리하면... `사이클을 만들지 못하는` 노드를 구하는 문제다. 

그래서 `boolean 배열`을 2개 만들어 준다. 

- 노드를 `방문했는지` 표시하는 `visited 배열` 
- 노드가 `cycle에 속하는지` 표시하는 `finished 배열` 

그러고 나서, `사이클을 이루는 노드`가 몇 개가 되는지 알아낸다. 

``` java
import java.io.IOException;
import java.io.BufferedReader;
import java.io.InputStreamReader;

import java.util.StringTokenizer;

public class yes {

    static int count; // 사이클을 이루는 노드 개수 = 그룹을 이루는 노드 개수 
    static int[] arr;
    static boolean[] visited;
    static boolean[] finished;

    public static void main(String[] args) throws IOException {


        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        // 그래프 설정
        int T = Integer.parseInt(br.readLine());

        for(int t = 0; t < T; t++) {

            // 그래프 설정
            int N = Integer.parseInt(br.readLine());

            arr = new int[N+1];
            visited = new boolean[N+1];
            finished = new boolean[N+1];
            count = 0;

            st = new StringTokenizer(br.readLine());

            for(int i = 1; i <= N; i++) {
                arr[i] = Integer.parseInt(st.nextToken());
            }

            // i번째 노드와 사이클(그룹)을 이루는 노드가 있는지 dfs 시작 
            for(int i = 1; i <= N; i++) {
                if(!finished[i]) dfs(i);
            }

            System.out.println(N - count);

        }
    }

    static void dfs(int now) {

        if(visited[now]) return; // 이미 now번째 노드를 방문했다면 종료 

        visited[now] = true; 

        // now가 가리킨 노드 = 즉, now와 이웃한 노드
        int next = arr[now];
        
        // 아직 next에 방문하지 않았다면 next에 대해 dfs를 시작 
        if(!visited[next]) dfs(next);
        
        // next는 방문했지만 
        else {
            
            // 아직 next가 cycle에 속하지 않았다면 
            if(!finished[next]) {

                count++; // next는 cycle에 속할 거니까 count를 1 증가시키고 
                
                // next를 포함한 사이클에 해당하는 다른 노드들의 개수를 센다. 
                for(int i = next; i != now; i = arr[i]) count++;
            }
        }

        // 모든 작업이 끝났으니까 now 노드에 대해서 사이클 작업이 끝났다는 걸 표시
        finished[now] = true;
    }
}

```
