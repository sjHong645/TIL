## 06. response 기본 객체 

response 기본 객체는 request 기본 객체와 반대의 기능을 수행한다. 

request 기본 객체가 웹 브라우저가 전송한 요청 정보를 담는다면 response 기본 객체는 웹 브라우저에 보내는 응답 정보를 담는다.

response 기본 객체가 응답 정보와 관련해서 제공하는 대표적인 기능은 다음과 같다.
- 헤더 정보 입력
- 리다이렉트 

각각에 대해서 살펴보자.

#### 1. 웹 브라우저에서 헤더 정보 전송

response 기본 객체는 응답 정보에 헤더를 추가하는 기능을 제공한다. 이와 관련된 메서드는 아래와 같다. 리턴 타입은 모두 void이다.

| 메서드 | 설명 |
| ------------- | ------------- |
| addDateHeader(String name, long date) | name 헤더에 date를 추가한다.  |
| addHeader(String name, String value) | name 헤더에 value를 값으로 추가한다. |
| addIntHeader(String name, int value) | name 헤더에 정수 값 value를 추가한다. |
| setDateHeader(String name, long date) | name 헤더의 값을 date로 설정한다. |
| setHeader(String name, String value) | name 헤더의 값을 value로 설정한다. |
| setIntHeader(String name, int value) | name 헤더의 값을 정수 값 value로 설정한다. |
| containsHeader(String name) | 이름이 name인 헤더를 포함하고 있을 경우 true, 아니면 false를 리턴한다 |

#### 2. 웹 브라우저에서 캐시(cache) 제어를 위한 응답 헤더 입력

JSP를 비롯한 웹 애플리케이션을 개발하다 보면 새로운 내용을 DB에 추가하더라도 웹 브라우저에 출력되는 내용이 바뀌지 않는 경우가 있다.

이런 현상이 발생하는 이유 중 하나는 웹 브라우저가 서버가 생성한 결과를 출력하지 않고 캐시에 저장된 데이터를 출력하기 때문이다.

내용이 자주 바뀌지 않는다면 웹 브라우저의 캐시를 사용해서 보다 빠른 응답을 제공할 수 있지만...

내용이 자주 바뀐다면 웹 브라우저 캐시가 적용되면서 변경된 내용을 수시로 확인할 수 없게 된다.

HTTP는 특수한 응답 헤더를 통해 웹 브라우저가 응답 결과를 캐시할 것인지 여부를 설정할 수 있다. 이와 관련된 헤더는 다음과 같다. 

| 응답 헤더 | 설명 |
| ------------- | ------------- |
| Cache-Control | 이 헤더의 값을 "no-cache"로 지정하면 웹 브라우저는 응답 결과를 캐시하지 않는다. 다만, "no-cache"로 지정하더라도 뒤로가기 버튼을 클릭하면 캐시 저장소에 보관된 응답 내용을 사용하기도 한다. 응답 결과가 캐시 저장소 자체에 보관되지 않도록 하려면 "no-store"를 추가해줘야 한다. |
| Pragma | 이 헤더의 값을 "no-cache"로 지정하면 웹 브라우저는 응답 결과를 캐시에 저장하지 않는다 |
| Expires | 응답 기간의 만료일을 지정한다. 만료일을 현재 시간보다 이전으로 설정함으로써 캐시에 보관되지 않도록 할 수 있다. |
